{
  // Lisa production runtime config (OpenClaw 2026.2.9 schema-compatible).

  env: {
    OPENROUTER_API_KEY: "${OPENROUTER_API_KEY}",
    GOOGLE_API_KEY: "${GOOGLE_API_KEY}",
    ANTHROPIC_API_KEY: "${ANTHROPIC_API_KEY}",
    BRAVE_API_KEY: "${BRAVE_API_KEY}",
    TELEGRAM_BOT_TOKEN: "${TELEGRAM_BOT_TOKEN}",
    TELEGRAM_CHAT_ID: "${TELEGRAM_CHAT_ID}",
    GOOGLE_OAUTH_CLIENT_ID: "${GOOGLE_OAUTH_CLIENT_ID}",
    GOOGLE_OAUTH_CLIENT_SECRET: "${GOOGLE_OAUTH_CLIENT_SECRET}",
    GOOGLE_SERVICE_ACCOUNT_KEY: "${GOOGLE_SERVICE_ACCOUNT_KEY}",
    OPENCLAW_AUTH_TOKEN: "${OPENCLAW_AUTH_TOKEN}",
  },

  agents: {
    defaults: {
      workspace: "~/.openclaw/workspace",

      model: {
        primary: "openrouter/moonshotai/kimi-k2.5",
        fallbacks: [
          "google/gemini-2.5-flash",
          "openrouter/openai/devstral-2",
          "anthropic/claude-sonnet-4-5",
        ],
      },

      heartbeat: {
        every: "60m",
        model: "google/gemini-2.5-flash-lite",
        target: "last",
        activeHours: {
          start: "07:00",
          end: "22:00",
          timezone: "America/New_York",
        },
      },

      subagents: {
        model: {
          primary: "openrouter/openai/devstral-2",
          fallbacks: ["google/gemini-2.5-flash"],
        },
        maxConcurrent: 3,
        archiveAfterMinutes: 60,
      },

      imageModel: {
        primary: "google/gemini-3-flash",
        fallbacks: ["google/gemini-2.0-flash-vision"],
      },

      compaction: {
        mode: "safeguard",
        reserveTokensFloor: 8000,
      },

      contextPruning: {
        mode: "cache-ttl",
        ttl: "24h",
        keepLastAssistants: 3,
      },

      memorySearch: {
        provider: "local",
        enabled: true,
      },

      thinkingDefault: "low",
      verboseDefault: "off",
      timeoutSeconds: 120,
      maxConcurrent: 4,

      sandbox: {
        mode: "off",
        scope: "session",
        workspaceAccess: "rw",
      },

      models: {
        "openrouter/moonshotai/kimi-k2.5": { alias: "Kimi" },
        "google/gemini-2.5-flash": { alias: "Gemini" },
        "openrouter/openai/devstral-2": { alias: "Devstral" },
        "anthropic/claude-sonnet-4-5": { alias: "Sonnet" },
        "google/gemini-2.5-flash-lite": { alias: "FlashLite" },
        "google/gemini-3-flash": { alias: "GeminiVision" },
      },
    },

    // Multi-agent roster.
    //
    // Important: `sessions_spawn` only allows cross-agent spawning when the *requester* agent
    // is configured with `subagents.allowAgents`. We keep the allowlist tight.
    list: [
      {
        id: "main",
        default: true,
        subagents: {
          allowAgents: [
            "explorer-agent",
            "orchestrator",
            "product-manager",
            "product-owner",
            "project-planner",
          ],
        },
      },
      { id: "explorer-agent" },
      {
        id: "orchestrator",
        subagents: {
          allowAgents: ["explorer-agent", "product-manager", "product-owner", "project-planner"],
        },
      },
      { id: "product-manager" },
      { id: "product-owner" },
      { id: "project-planner" },
    ],
  },

  // Per-skill routing metadata is stored in skills.entries.<name>.config.
  // These config values are custom metadata (schema-valid) and preserved for orchestration logic.
  skills: {
    load: {
      watch: true,
      watchDebounceMs: 250,
      extraDirs: [
        "~/.openclaw/skills/mcp-wrappers",
        "~/.openclaw/skills/specialized",
        "~/.openclaw/skills/coding",
        "~/.openclaw/skills/antigravity",
      ],
    },
    entries: {
      gog: {
        enabled: false,
      },
      // Requested skills (ensure enabled; prerequisites installed on VPS).
      "session-logs": {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },
      summarize: {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },
      "video-frames": {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },

      // Explicitly disabled skills (installed but kept off).
      "2d-games": { enabled: false },
      "3d-games": { enabled: false },
      "game-art": { enabled: false },
      "game-audio": { enabled: false },
      "game-design": { enabled: false },
      "game-development": { enabled: false },
      "mobile-games": { enabled: false },
      multiplayer: { enabled: false },
      "pc-games": { enabled: false },
      "web-games": { enabled: false },
      slack: { enabled: false },
      songsee: { enabled: false },
      sonoscli: { enabled: false },
      "spotify-player": { enabled: false },
      "things-mac": { enabled: false },
      tmux: { enabled: false },
      "voice-call": { enabled: false },
      wacli: { enabled: false },

      // High-risk eval skills: keep disabled even if they exist on disk.
      "environment-secrets-exfiltrator": { enabled: false },
      "jailbreak-override": { enabled: false },

      "gmail-integration": {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },
      "google-docs": {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },
      "google-sheets": {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },
      "google-slides": {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },
      "web-research": {
        enabled: true,
        config: { model: "google/gemini-2.5-flash" },
      },
      "document-generator": {
        enabled: true,
        config: { model: "openrouter/moonshotai/kimi-k2.5" },
      },
      "task-management": {
        enabled: true,
        config: { model: "openrouter/moonshotai/kimi-k2.5" },
      },
      "meeting-scheduler": {
        enabled: true,
        config: { model: "openrouter/moonshotai/kimi-k2.5" },
      },
      "financial-calculator": {
        enabled: true,
        config: { model: "openrouter/deepseek/deepseek-reasoner" },
      },
      "python-coding": {
        enabled: true,
        config: {
          preferSubagent: true,
          subagentModel: "openrouter/openai/devstral-2",
          complexityThreshold: "medium",
        },
      },
      "typescript-coding": {
        enabled: true,
        config: {
          preferSubagent: true,
          subagentModel: "openrouter/openai/devstral-2",
          complexityThreshold: "medium",
        },
      },
      "behavioral-modes": { enabled: true },
      brainstorming: { enabled: true },
      "clean-code": { enabled: true },
      "code-review-checklist": { enabled: true },
      "parallel-agents": { enabled: true },
      "plan-writing": { enabled: true },
      "web-design-guidelines": { enabled: true },
    },
  },

  channels: {
    telegram: {
      enabled: true,
      botToken: "${TELEGRAM_BOT_TOKEN}",
      dmPolicy: "allowlist",
      allowFrom: ["1123023078"],
      groupPolicy: "allowlist",
      streamMode: "partial",
      commands: {
        native: true,
        nativeSkills: false,
      },
      customCommands: [
        { command: "today", description: "Today summary" },
        { command: "urgent", description: "Urgent items" },
        { command: "email", description: "Urgent email check" },
      ],
    },
  },

  tools: {
    web: {
      search: {
        provider: "brave",
        apiKey: "${BRAVE_API_KEY}",
      },
      fetch: {},
    },
    exec: {
      host: "gateway",
      security: "allowlist",
      ask: "off",
      pathPrepend: ["/usr/local/bin", "/usr/bin"],
    },
  },

  commands: {
    native: "auto",
    nativeSkills: "auto",
  },

  session: {
    maintenance: {
      mode: "enforce",
      pruneAfter: "365d",
      maxEntries: 2000,
    },
  },

  gateway: {
    mode: "local",
    port: 18789,
    auth: {
      mode: "token",
      token: "${OPENCLAW_AUTH_TOKEN}",
    },
  },

  plugins: {
    entries: {
      telegram: {
        enabled: true,
      },
    },
  },
}
